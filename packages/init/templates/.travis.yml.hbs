language: node_js
node_js:
  - node
{{#if (eq type 'node')}}
  - lts/*
{{/if}}

cache:
  yarn: true
  npm: true
{{#if semanticRelease}}

deploy:
  provider: script
  skip_cleanup: true
  script:
    - yarn travis-deploy-once "yarn semantic-release"
{{/if}}

branches:
  only:
    - master
